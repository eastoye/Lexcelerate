<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Disable predictive text on inputs via HTML attributes -->
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
  <title>Lexcelerate</title>
  <link rel="manifest" href="/assets/manifest-Bez2WkQ5.json" />
  <script type="module" crossorigin src="/assets/main-Czyg9Y9W.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/main-DBv-EU8K.css">
</head>
<body>
  <!-- Help Modal -->
  <div id="help-modal" class="modal" style="display:none;">
    <div class="modal-content">
      <span id="help-close" class="close">&times;</span>
      <h2>Help</h2>
      <div id="help-text">
        <!-- Help text will load based on current screen -->
      </div>
    </div>
  </div>

  <!-- Notification -->
  <div id="notification" class="notification" style="display:none;"></div>

  <!-- Login Screen -->
  <div id="auth-screen" class="screen" style="display: none;">
    <div class="home-wrapper">
      <div class="minimal-container">
        <!-- Help Button in Card -->
        <button class="help-btn-card" data-help="auth">?</button>
        
        <h2 id="auth-title" class="app-title">Sign In to Lexcelerate</h2>
        <div id="auth-error" class="error-message" style="display: none;"></div>
        <input type="email" id="auth-email" class="form-input" placeholder="Email" autocomplete="email" autocorrect="off" autocapitalize="off" spellcheck="false">
        <input type="password" id="auth-password" class="form-input" placeholder="Password" autocomplete="current-password" autocorrect="off" autocapitalize="off" spellcheck="false">
        <button id="auth-submit-btn" class="minimal-button">Sign In</button>
        <p id="auth-toggle">
          Don't have an account? <a href="#" id="auth-toggle-link">Sign up</a>
        </p>
        <div id="auth-loading" style="display: none;">Loading...</div>
      </div>
    </div>
  </div>

  <!-- Home Screen -->
  <div id="home-screen" class="screen" style="display: none;">
    <div class="home-wrapper">
      <div class="minimal-container">
        <!-- Help Button in Card -->
        <button class="help-btn-card" data-help="home">?</button>
        
        <div class="app-title">
          <h1>Lexcelerate</h1>
        </div>
        <p id="welcome-message"></p>
        
        <!-- Word of the Day Section -->
        <div class="word-of-day-section">
          <h2>Word of the Day</h2>
          <div id="word-of-day" class="word-of-day-card" tabindex="0" role="button" aria-label="Click to see definition">
            <span id="wotd" class="wotd-word-minimal">Loading...</span>
          </div>
          <p class="wotd-hint">Click the word to see its definition!</p>
        </div>

        <!-- Navigation Buttons -->
        <div class="action-buttons-minimal">
          <button id="add-word-btn" class="minimal-button">Add Word</button>
          <button id="practice-btn" class="minimal-button">Practice </button>
          <button id="stats-btn" class="minimal-button">Stats</button>
          <button id="logout-btn" class="minimal-button">Log Out</button>
        </div>

        <!-- Progress Summary -->
        <div id="progress-summary" class="word-count-display" style="display: none;"></div>
      </div>
    </div>
  </div>

  <!-- Username Setup Screen -->
  <div id="username-setup-screen" class="screen" style="display: none;">
    <div class="home-wrapper">
      <div class="minimal-container">
        <!-- Help Button in Card -->
        <button class="help-btn-card" data-help="username">?</button>
        
        <h2 class="page-title">Choose Your Username</h2>
        <p class="page-subtitle">Please choose a username to complete your account setup.</p>
        <div id="username-error" class="error-message" style="display: none;"></div>
        <input type="text" id="username-input" class="form-input" placeholder="Enter username" autocomplete="username" autocorrect="off" autocapitalize="off" spellcheck="false">
        <button id="username-submit-btn" class="minimal-button">Save Username</button>
        <div id="username-loading" style="display: none;">Saving...</div>
      </div>
    </div>
  </div>

  <!-- Add Word Screen -->
  <div id="add-word-screen" class="screen" style="display: none;">
    <div class="home-wrapper">
      <div class="minimal-container">
        <!-- Help Button in Card -->
        <button class="help-btn-card" data-help="add-word">?</button>
        
        <!-- Back Button -->
        <button class="back-btn" title="Back to Home">
          <span class="back-icon">‚Üê</span>
          <span class="back-text">Back to Home</span>
        </button>

        <h1 class="page-title">Add New Word</h1>
        <p class="page-subtitle">Expand your vocabulary catalogue</p>
        
        <!-- Add Word Form -->
        <form class="add-word-form">
          <div class="form-group">
            <label for="word-input" class="form-label">Word</label>
            <input 
              type="text" 
              id="word-input" 
              class="form-input" 
              placeholder="Enter a new word..."
              autocomplete="off"
              autocorrect="off"
              autocapitalize="off"
              spellcheck="false"
              required
            />
          </div>

          <button type="button" id="save-word-btn" class="add-btn">
            <span class="btn-icon">‚úì</span>
            <span class="btn-text">Add Word</span>
          </button>
        </form>
      </div>
    </div>
  </div>

  <!-- Practice Screen (Combined Mode) -->
  <div id="practice-screen" class="screen" style="display: none;">
    <div class="home-wrapper">
      <div class="minimal-container">
        <!-- Help Button in Card -->
        <button class="help-btn-card" data-help="practice">?</button>
        
        <!-- Back Button -->
        <button class="back-btn" title="Back to Home">
          <span class="back-icon">‚Üê</span>
          <span class="back-text">Back to Home</span>
        </button>

        <h1 class="page-title">Practice </h1>
        <p class="page-subtitle">Test your spelling skills</p>
        
        <!-- Practice Source Picker - managed by smart-list-generator.js -->
        <div class="mode-section"></div>

        <!-- Word Practice Area -->
        <div class="practice-area">
          <!-- Word Prompt (covered/revealed) -->
          <div id="prompt" class="word-prompt" tabindex="0" role="button" aria-label="Click to reveal word">
            <span class="prompt-text">_____</span>
            <p class="prompt-hint">Click to reveal word</p>
          </div>

          <!-- Control Buttons -->
          <div class="control-buttons">
            <button id="sound-toggle-btn" class="control-btn">üîä</button>
            <button id="talk-btn" class="control-btn talk-btn" title="Speak word aloud">
              <span class="btn-icon">üîä</span>
              <span class="btn-text">Talk</span>
            </button>
          </div>

          <!-- Spelling Input -->
          <div class="spelling-section">
            <div class="input-group">
              <input 
                type="text" 
                id="spell-input" 
                class="spell-input" 
                placeholder="Type your spelling here..."
                autocomplete="off"
                autocorrect="off"
                autocapitalize="off"
                spellcheck="false"
              />
              <button id="submit-spelling-btn" class="submit-btn">
                <span class="btn-icon">‚úì</span>
                <span class="btn-text">Submit</span>
              </button>
            </div>
          </div>

          <!-- Feedback Area -->
          <div id="feedback" class="feedback-area">
            <!-- Feedback messages will appear here -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- My Lists Screen -->
  <div id="my-lists-screen" class="screen" style="display: none;">
    <div class="home-wrapper">
      <div class="minimal-container">
        <!-- Help Button in Card -->
        <button class="help-btn-card" data-help="lists">?</button>
        
        <!-- Back Button -->
        <button class="back-btn" title="Back to Home">
          <span class="back-icon">‚Üê</span>
          <span class="back-text">Back to Home</span>
        </button>

        <h2 class="page-title">Custom Lists</h2>
        <button id="create-list-btn" class="minimal-button">Create New List</button>
        <div id="lists-loading" style="display: none;">Loading lists...</div>
        <div id="lists-error" class="error-message" style="display: none;"></div>
        <div id="user-lists-container"></div>
      </div>
    </div>
  </div>

  <!-- List Detail Screen -->
  <div id="list-detail-screen" class="screen" style="display: none;">
    <div class="home-wrapper">
      <div class="minimal-container">
        <!-- Help Button in Card -->
        <button class="help-btn-card" data-help="list-detail">?</button>
        
        <!-- Back Button -->
        <button class="back-btn" title="Back to Lists">
          <span class="back-icon">‚Üê</span>
          <span class="back-text">Back to Lists</span>
        </button>

        <div class="list-detail-header">
          <div class="list-title-section">
            <h3 id="list-title-display" class="editable-title">List Name</h3>
            <input type="text" id="list-title-input" class="list-title-edit" placeholder="List name" style="display: none;">
          </div>
          <div class="list-description-section">
            <p id="list-description-display" class="editable-description">Click to add description</p>
            <input type="text" id="list-description-input" class="list-description-edit" placeholder="Description (optional)" style="display: none;">
          </div>
          <button id="save-list-changes-btn" class="minimal-button" style="display: none;">Save Changes</button>
        </div>
        
        <!-- Add Word Form -->
        <form id="add-word-to-list-form" class="add-word-form">
          <input type="text" id="new-word-input" class="form-input" placeholder="Enter word to add" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
          <button type="submit" class="add-btn">‚ûï Add Word</button>
        </form>
        
        <div id="list-words-loading" style="display: none;">Loading words...</div>
        <div id="list-words-error" class="error-message" style="display: none;"></div>
        <div id="list-words-container"></div>
      </div>
    </div>
  </div>

  <!-- Create List Modal -->
  <div id="create-list-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <span class="close create-list-close">&times;</span>
      <h3>Create New List</h3>
      
      <!-- List Details Section -->
      <div class="list-details-section">
        <input type="text" id="new-list-name" class="form-input" placeholder="Enter list name" required>
        <input type="text" id="new-list-description" class="form-input" placeholder="Enter description (optional)">
      </div>
      
      <!-- Word Addition Section -->
      <div class="word-addition-section">
        <h4>Add Words</h4>
        
        <!-- Manual Word Entry -->
        <div class="manual-word-entry">
          <input type="text" id="manual-word-input" class="form-input" placeholder="Type a word and press Add">
          <button type="button" id="add-manual-word-btn" class="minimal-button">Add</button>
        </div>
        
        <!-- Catalog Selection Toggle -->
        <div class="catalog-toggle">
          <button type="button" id="toggle-catalog-btn" class="minimal-button">Select from Catalog</button>
        </div>
        
        <!-- Catalog Selection (Hidden by default) -->
        <div id="catalog-selection" class="catalog-selection" style="display: none;">
          <div class="catalog-words-grid" id="catalog-words-grid">
            <!-- Catalog words will be populated here -->
          </div>
        </div>
        
        <!-- Selected Words Display -->
        <div class="selected-words-section">
          <h5>Selected Words (<span id="selected-word-count">0</span>)</h5>
          <div id="selected-words-list" class="selected-words-list">
            <!-- Selected words will appear here -->
          </div>
        </div>
      </div>
      
      <!-- Modal Actions -->
      <div class="modal-actions">
        <button type="button" id="create-list-submit-btn" class="minimal-button">Create List</button>
        <button type="button" id="cancel-create-list" class="minimal-button">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Edit List Modal -->
  <div id="edit-list-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <h3>Edit List</h3>
      <form id="edit-list-form">
        <input type="hidden" id="edit-list-id">
        <input type="text" id="edit-list-name" class="form-input" placeholder="Enter list name" required>
        <div class="modal-actions">
          <button type="submit" class="minimal-button">Update</button>
          <button type="button" id="cancel-edit-list" class="minimal-button">Cancel</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Statistics Screen -->
  <div id="stats-screen" class="screen" style="display: none;">
    <div class="home-wrapper">
      <div class="minimal-container">
        <!-- Help Button in Card -->
        <button class="help-btn-card" data-help="stats">?</button>
        
        <!-- Back Button -->
        <button class="back-btn" title="Back to Home">
          <span class="back-icon">‚Üê</span>
          <span class="back-text">Back to Home</span>
        </button>

        <h1 class="page-title">Statistics</h1>
        <p class="page-subtitle">Track your learning progress</p>
        
        <!-- Overall Stats Summary -->
        <div class="stats-summary">
          <div class="summary-card">
            <span class="summary-label">Total Words</span>
            <span id="total-words" class="summary-value">0</span>
          </div>
          <div class="summary-card">
            <span class="summary-label">Average Score</span>
            <span id="average-score" class="summary-value">0</span>
          </div>
          <div class="summary-card">
            <span class="summary-label">Best Streak</span>
            <span id="best-streak" class="summary-value">0</span>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="action-buttons">
          <button id="my-lists-btn" class="action-btn">
            <span class="btn-icon">üìã</span>
            <span class="btn-text">My Lists</span>
          </button>
          <button id="export-btn" class="action-btn export-btn">
            <span class="btn-icon">üì§</span>
            <span class="btn-text">Export</span>
          </button>
          <button id="import-btn" class="action-btn import-btn">
            <span class="btn-icon">üì•</span>
            <span class="btn-text">Import</span>
          </button>
          <button id="toggle-random-stats-btn" class="action-btn">
            <span class="btn-icon">üé≤</span>
            <span class="btn-text">Show Random Trials</span>
          </button>
        </div>

        <!-- Catalogue Words List -->
        <div class="catalogue-section">
          <h3 class="section-title">Word Catalogue</h3>
          <div id="stats-list" class="stats-list">
            <!-- Word statistics will be populated here -->
          </div>
        </div>

        <!-- Random Trials Section (initially hidden) -->
        <div id="random-stats" class="random-section" style="display: none;">
          <h3 class="section-title">Random Word Trials</h3>
          <div id="random-stats-list" class="random-stats-list">
            <!-- Random trial statistics will be populated here -->
          </div>
        </div>
      </div>
    </div>
  </div>

</body>
</html>